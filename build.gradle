buildscript {
	ext {
		springBootVersion = '2.7.14'
	}
	repositories {
		mavenCentral()
	}

	dependencies {
		classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
	}
}
subprojects {
	group = 'com.qdang'
	version = '1.0'
	apply plugin: "java"
	apply plugin: "org.springframework.boot"
	apply plugin: "io.spring.dependency-management"
	apply plugin: 'war'
	sourceCompatibility = '11'

	repositories {
		mavenCentral()
	}

	configurations {
		compileOnly {
			extendsFrom annotationProcessor
		}
	}

	dependencies {
		// Health Check
		implementation 'org.springframework.boot:spring-boot-starter-web'
		testImplementation 'org.springframework.boot:spring-boot-starter-test'
		implementation 'org.springframework.boot:spring-boot-starter-actuator'

		compileOnly 'org.projectlombok:lombok'
		annotationProcessor 'org.projectlombok:lombok'

//		providedRuntime 'org.springframework.boot:spring-boot-starter-tomcat'

		// JWT
		runtimeOnly 'io.jsonwebtoken:jjwt-impl:0.11.5'
		runtimeOnly 'io.jsonwebtoken:jjwt-jackson:0.11.5'
		implementation 'io.jsonwebtoken:jjwt-api:0.11.5'

		// Spring Security
		implementation 'org.springframework.boot:spring-boot-starter-security'
		testImplementation 'org.springframework.security:spring-security-test'

		// Swagger
//	implementation 'org.springdoc:springdoc-openapi-ui:1.7.0'
	}

	tasks.named('test') {
		useJUnitPlatform()
	}

//	war {
//		archiveName("ROOT.war")
//	}
	bootWar {
		archiveName("ROOT.war")
	}
}